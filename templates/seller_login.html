{% extends "_base.html" %}
{% block title %}Seller Login — VFXKart{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto px-4 py-12">
  <a href="{{ url_for('index') }}" class="inline-block mb-6 text-lg font-bold">← Back to VFXKart</a>

  <div class="bg-[linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01))] border border-white/5 rounded-2xl p-6 shadow-xl">
    <div class="flex items-center justify-between mb-4">
      <div>
        <h1 class="text-2xl font-extrabold">Seller sign in</h1>
        <p class="text-sm text-slate-400">Use password or request an OTP to sign in.</p>
      </div>
      <a href="{{ url_for('seller_register') }}" class="text-sm text-slate-300 underline">Create account</a>
    </div>

    {% include "_auth_shared.html" %}

    <div class="tabs flex gap-2 mb-4" role="tablist" aria-label="Login methods">
      <button id="tab-pass" class="flex-1 py-2 rounded-lg bg-white/4 font-semibold" role="tab" aria-selected="true">Password</button>
      <button id="tab-otp"  class="flex-1 py-2 rounded-lg border border-white/6 font-semibold" role="tab" aria-selected="false">OTP</button>
    </div>

    <div id="panel-pass" role="tabpanel">
      <form method="post" action="{{ url_for('seller_login') }}" class="grid gap-3" novalidate>
        <div class="field">
          <input name="username" type="text" placeholder=" " required autocomplete="username" aria-label="Username or email">
          <label>Username or email</label>
        </div>

        <div class="field">
          <input name="password" type="password" placeholder=" " required autocomplete="current-password" aria-label="Password">
          <label>Password</label>
        </div>

        <div class="flex gap-3 items-center">
          <button type="submit" class="flex-1 py-3 rounded-xl font-bold bg-gradient-to-r from-accent1 to-accent2 text-black">Sign in</button>
          <a href="{{ url_for('seller_register') }}" class="px-4 py-3 rounded-xl border border-white/6 text-sm text-slate-300">Create</a>
        </div>
      </form>
    </div>

    <div id="panel-otp" class="hidden" role="tabpanel" aria-hidden="true">
      <form method="post" action="{{ url_for('seller_request_otp') }}" class="grid gap-3 mb-3" novalidate>
        <div class="field">
          <input name="username" type="text" placeholder=" " required autocomplete="username" aria-label="Username or email for OTP">
          <label>Username or email</label>
        </div>
        <button id="sendBtn" type="submit" class="w-full py-3 rounded-xl font-bold bg-gradient-to-r from-accent1 to-accent2 text-black">Send code</button>
        <p class="text-xs text-slate-400">We’ll email a 6-digit code. (Dev: code prints in server console.)</p>
      </form>

      <form method="post" action="{{ url_for('seller_verify_otp') }}" class="grid gap-3" novalidate>
        <div class="field">
          <input name="username" type="text" placeholder=" " required autocomplete="username" aria-label="Username or email to verify">
          <label>Username or email</label>
        </div>
        <div class="field">
          <input name="otp" type="text" maxlength="6" placeholder=" " required aria-label="6-digit code">
          <label>6-digit code</label>
        </div>
        <button type="submit" class="w-full py-3 rounded-xl font-bold bg-white/6 text-white">Verify & Sign in</button>
      </form>
    </div>
  </div>

  <div class="mt-6 text-center text-sm text-slate-400">© {{ now().year if now is defined else '2025' }} VFXKart</div>
</div>
{% endblock %}
