<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>{% block title %}VFXKart{% endblock %}</title>

  <!-- SEO BASICS -->
  <meta name="description" content="VFXKart is a multimedia commerce platform for creators, digital assets, tools and learning.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="{{ request.url }}">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GG6L4FMR08"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GG6L4FMR08');
  </script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Global CSS (optional external) -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/site.css') }}">

  <style>
    :root{
      --bg:#020617;
      --panel:#0f172a;
      --border:rgba(148,163,184,0.25);
      --text:#e5edff;
      --muted:#9db3da;
      --accent:#22d3ee;
    }

    *{box-sizing:border-box;}

    body{
      margin:0;
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(circle at 0% 0%, rgba(56,189,248,0.18), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(168,85,247,0.18), transparent 60%),
        var(--bg);
      color:var(--text);
      min-height:100vh;
      overflow-x:hidden;
    }

    /* ===== HUD BACKGROUND (SOFT, NOT GAMING) ===== */
    .hud-bg,.hud-rings,.hud-scan{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:-1;
    }

    .hud-bg{
      background-image:
        repeating-linear-gradient(90deg, rgba(148,163,184,0.08) 0 1px, transparent 1px 90px),
        repeating-linear-gradient(0deg, rgba(148,163,184,0.08) 0 1px, transparent 1px 90px);
      opacity:0.22;
    }

    .hud-rings::before,
    .hud-rings::after{
      content:"";
      position:absolute;
      inset:22% 30%;
      border-radius:999px;
      border:1px solid rgba(56,189,248,0.28);
      animation:spin 50s linear infinite;
    }

    .hud-rings::after{
      inset:28% 36%;
      border-color:rgba(168,85,247,0.28);
      animation-direction:reverse;
      animation-duration:70s;
    }

    @keyframes spin{
      from{transform:rotate(0deg);}
      to{transform:rotate(360deg);}
    }

    .hud-scan{
      background:linear-gradient(
        to bottom,
        transparent 0%,
        rgba(15,23,42,0.35) 50%,
        transparent 100%
      );
      background-size:100% 240px;
      animation:scan 7s linear infinite;
      opacity:0.18;
    }

    @keyframes scan{
      from{background-position-y:0;}
      to{background-position-y:240px;}
    }

    /* ===== NAVBAR ===== */
    header.nav{
      position:sticky;
      top:0;
      z-index:20;
      display:flex;
      align-items:center;
      gap:1.2rem;
      padding:16px 26px;
      background:rgba(15,23,42,0.94);
      backdrop-filter:blur(14px);
      border-bottom:1px solid var(--border);
    }

    .brand{
      text-decoration:none;
      font-weight:900;
      font-size:1.25rem;
      letter-spacing:0.08em;
      color:var(--text);
      text-transform:uppercase;
    }

    .brand::before{
      content:"●";
      margin-right:8px;
      color:var(--accent);
    }

    .main-nav{
      display:flex;
      gap:1rem;
    }

    .nav-link{
      color:#a5b4fc;
      text-decoration:none;
      font-size:0.92rem;
      position:relative;
    }

    .nav-link:hover{color:#fff;}

    .nav-actions{
      margin-left:auto;
      display:flex;
      align-items:center;
      gap:0.7rem;
      font-size:0.9rem;
    }

    .btn-ghost{
      padding:6px 14px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--text);
      text-decoration:none;
      background:transparent;
    }

    .btn-cta{
      padding:7px 18px;
      border-radius:999px;
      background:#22d3ee;
      color:#020617;
      font-weight:800;
      text-decoration:none;
      border:none;
    }

    .cart-chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--text);
      text-decoration:none;
    }

    .cart-dot{
      width:20px;
      height:20px;
      border-radius:50%;
      background:#22d3ee;
      color:#020617;
      font-weight:800;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:0.8rem;
    }

    /* ===== MAIN ===== */
    main.container{
      width:min(1180px,94%);
      margin:36px auto 50px;
      position:relative;
      z-index:1;
    }

    /* ===== FLASH ===== */
    .flash-wrap{margin-bottom:1rem;}
    .flash{
      padding:10px 14px;
      border-radius:10px;
      background:var(--panel);
      border:1px solid var(--border);
      font-size:0.9rem;
      margin-bottom:6px;
    }
    .flash.success{border-left:4px solid #22c55e;}
    .flash.error{border-left:4px solid #f97373;}

    /* ===== FOOTER ===== */
    footer.footer{
      width:min(1180px,94%);
      margin:0 auto 24px;
      padding-top:16px;
      border-top:1px solid var(--border);
      font-size:0.85rem;
      color:#9ca3af;
      display:flex;
      justify-content:space-between;
      gap:12px;
    }

    @media(max-width:700px){
      header.nav{flex-wrap:wrap;}
      .main-nav{order:3;width:100%;}
      footer.footer{flex-direction:column;text-align:center;}
    }
  </style>
</head>

<body>

  <!-- HUD layers -->
  <div class="hud-bg"></div>
  <div class="hud-rings"></div>
  <div class="hud-scan"></div>

  <!-- NAV -->
  <header class="nav">
    <a href="{{ url_for('index') }}" class="brand">VFXKart</a>

    <nav class="main-nav">
      <a class="nav-link" href="{{ url_for('hub') }}">Platform</a>
      <a class="nav-link" href="{{ url_for('shop') }}">Marketplace</a>
      <a class="nav-link" href="{{ url_for('seller_root') }}">Become a Seller</a>
      <a class="nav-link" href="{{ url_for('learning') }}">Learning</a>

    </nav>

    <div class="nav-actions">
      {% if current_user.is_authenticated %}
        <span style="color:#9ca3af;">Hi, {{ current_user.username }}</span>
        <a class="btn-ghost" href="{{ url_for('auth_logout') }}">Logout</a>
      {% else %}
        <a class="btn-ghost" href="{{ url_for('auth_login') }}">Log in</a>
        <a class="btn-cta" href="{{ url_for('hub') }}">Enter Platform</a>
      {% endif %}
      <a href="{{ url_for('cart_view') }}" class="cart-chip">
        🛒 <span class="cart-dot">{{ cart_count or 0 }}</span>
      </a>
    </div>
  </header>

  <!-- CONTENT -->
  <main class="container">
    {% with msgs = get_flashed_messages(with_categories=true) %}
      {% if msgs %}
        <div class="flash-wrap">
          {% for cat,msg in msgs %}
            <div class="flash {{ cat }}">{{ msg }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <span>© 2025 VFXKart</span>
    <span>Multimedia Commerce Platform</span>
  </footer>

</body>
</html>
